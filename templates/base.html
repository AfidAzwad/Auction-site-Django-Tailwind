<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
  />
    
  <title>{{ title }}</title>
</head>

<style>
  #nav {
    z-index:999;
}
  #menu {
    position:relative;
    z-index:9999;
}
</style>

<body>
    {{ csrf_input }}

<nav id="nav" class="bg-teal-500 sticky top-0 py-1">
    <div class="max-w-6xl mx-auto px-4">
          <div class="flex justify-between">
                   <div class="flex space-x-4">
                       <div class="relative">
                          <a href="/" class="flex items-center py-5 px-2 text-black-700 hover:text-grey-950">
                            <svg class="h-6 w-6 mr-1 text-black-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                             </svg>
                             <span class="font-bold">Auction Site</span>
                          </a>
                       </div>

                                <div class="hidden md:flex items-center space-x-1">
                                    <a href="/" class="py-5 px-3 text-gray-700 hover:text-gray-900">Home</a>
                                </div>
                     </div>
                            <div class="hidden md:flex items-center space-x-1">
                                 <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
                             {% if user.is_authenticated %}  
                                <div x-data="{ dropdownOpen: false }" class="relative">
                                        <button @click="dropdownOpen = true" class="flex z-10 bg-black-800 hover:bg-grey-700 focus:outline-none focus:bg-black-700"><pre class="tab">Welcome <b>{{ user.username }}</b></pre><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                        </svg>
                                        </button>
                                   

                                    {% if user.is_superuser %}
                                        <div x-show="dropdownOpen" @click="dropdownOpen = false" class="fixed inset-0 h-full w-full">
                                  
                                        </div>
                                        <div x-show="dropdownOpen" class="absolute left-0 mt-2 w-48 bg-white rounded-md overflow-hidden shadow-xl">
                                               <a href="/admin" class="block px-4 py-2 text-md text-gray-800 border-b hover:bg-gray-200">Administration</span></a>
                                               <a href="{% url 'accounts:password_change' %}" class="block px-4 py-2 text-md text-gray-800 border-b hover:bg-gray-200">Change Password</span></a>
                                               <a href="{% url 'logout' %}" class="block px-4 py-2 text-md text-gray-500 font-bold border-b hover:bg-gray-200">Log Out</a>
                                        </div>
                                     {% else %}
                                          <div x-show="dropdownOpen" @click="dropdownOpen = false" class="fixed inset-0 h-full w-full -z-1">
    
                                          </div>
                                          <div x-show="dropdownOpen" class="absolute left-0 mt-2 w-48 bg-white rounded-md overflow-hidden shadow-xl">
                                                <a href="{% url 'ebay:addproduct' %}" class="block px-4 py-2 text-md text-gray-800 border-b hover:bg-gray-200">Add product</span></a>
                                                <a href="{% url 'ebay:myproduct' %}" class="block px-4 py-2 text-md text-gray-800 border-b hover:bg-gray-200">My products</span></a>
                                                <a href="{% url 'ebay:mybids' %}" class="block px-4 py-2 text-md text-gray-800 border-b hover:bg-gray-200">My bids</span></a>
                                                <a href="{% url 'accounts:password_change' %}" class="block px-4 py-2 text-md text-gray-600 border-b hover:bg-gray-200">Change Password</span></a>
                                                 <a href="{% url 'logout' %}" class="block px-4 py-2 text-md text-gray-500 font-bold border-b hover:bg-gray-200">Log Out</a>
                                          </div>
                                    {% endif %}

                               </div>
                                 {% else %}
                                     <a href="{% url 'accounts:login' %}" class="py-5 px-3">Login</a>
                                     <a href="{% url 'accounts:register' %}" class="py-2 px-3 bg-yellow-400 hover:bg-yellow-300 text-yellow-900 hover:text-yellow-800 rounded transition duration-300">Signup</a>
                                 {% endif %}
                              
             </div>
      





















                          <!-- mobile button goes here -->
                            <div class="md:hidden flex items-center">
                                <button class="mobile-menu-button">
                                      <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                                      </svg>
                                </button>
                             </div> 
    </div> <!-- desktop navbar ends here -->


                   <div class="mobile-menu hidden md:hidden"> 
                      
                        {% if user.is_authenticated %}
                          <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
                    
                          <div x-data="{ dropdownOpen: false }" id="menu">
                                <button @click="dropdownOpen = true" class="flex bg-black-800 hover:bg-grey-700 focus:outline-none focus:bg-black-700"><pre class="tab">Welcome <b>{{ user.username }}</b></pre><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                </svg>
                                </button>
                          

                            {% if user.is_superuser %}
                                <div x-show="dropdownOpen" @click="dropdownOpen = false" class="fixed inset-0 h-full w-full">
                          
                                </div>
                                <div x-show="dropdownOpen" id="menu" class="absolute left-0 mt-2 bg-teal-600 rounded-md overflow-hidden shadow-xl">
                                  <a href="/admin" class="block px-4 py-2 text-md text-white border-b hover:bg-teal-400 hover:font-semibold">Administration</span></a>
                                  <a href="{% url 'accounts:password_change' %}" class="block px-4 py-2 text-md text-white border-b hover:bg-teal-400 hover:font-semibold">Change Password</span></a>
                                  <a href="{% url 'logout' %}" class="block px-4 py-2 text-md text-gray-300 font-bold border-b hover:bg-teal-400 hover:font-semibold">Log Out</a>
                                </div>
                                {% else %}
                                <div x-show="dropdownOpen" @click="dropdownOpen = false" class="fixed inset-0 h-full w-full">
                        
                                </div>
                                <div x-show="dropdownOpen" id="menu" class="absolute left-0 mt-2 bg-teal-600 rounded-md overflow-hidden shadow-xl">
                                    <a href="{% url 'ebay:addproduct' %}" class="block px-4 py-2 text-md text-white border-b hover:bg-teal-400 hover:font-semibold">Add product</span></a>
                                    <a href="{% url 'ebay:myproduct' %}" class="block px-4 py-2 text-md text-white border-b hover:bg-teal-400 hover:font-semibold">My products</span></a>
                                    <a href="{% url 'ebay:mybids' %}" class="block px-4 py-2 text-md text-white border-b hover:bg-teal-400 hover:font-semibold">My bids</span></a>
                                    <a href="{% url 'accounts:password_change' %}" class="block px-4 py-2 text-md text-white border-b hover:bg-teal-400 hover:font-semibold">Change Password</span></a>
                                    <a href="{% url 'logout' %}" class="block px-4 py-2 text-md text-gray-300 font-bold border-b hover:bg-teal-400">Log Out</a>
                                </div>
                              {% endif %}
                          </div>

                        {% else %}
                        <div class="relative p-2">
                         <a href="{% url 'accounts:login' %}" class=" py-5 px-3">Login</a>
                         <a href="{% url 'accounts:register' %}" class="py-2 px-3 bg-yellow-400 hover:bg-yellow-300 text-yellow-900 hover:text-yellow-800 rounded transition duration-300">Signup</a>
                        </div>

                      {% endif %}
                  
                   
              
                          <Script>
                            const btn = document.querySelector("button.mobile-menu-button");
                            const menu = document.querySelector(".mobile-menu");
                            // add event listeners
                            btn.addEventListener("click", () => {
                            menu.classList.toggle("hidden"); });
                          </Script>
                     </div>
  </nav>

    {% block content %} {% endblock %}

    
  </body>
</html>